#!/usr/bin/env python

import sys

import os

sys.path.append(os.path.dirname(__file__) + '/../')

from alfred_speech.core import Environment, Listener
from alfred_speech.contrib.inputs import SphinxInput
from alfred_speech.contrib.outputs import Pico2WaveOutput

if __name__ == "__main__":
    global_interaction_ids = [
        'alfred_speech.contrib.interactions.CallSign',
        'alfred_speech.contrib.interactions.Help',
    ]
    root_interaction_ids = [
        'alfred_speech.contrib.interactions.CurrentDate',
        'alfred_speech.contrib.interactions.CurrentTime',
        'alfred_speech.contrib.interactions.Lights',
    ]
    ear = SphinxInput()
    mouth = Pico2WaveOutput()
    environment = Environment(mouth, ['Computer'],
                              global_interaction_ids,
                              root_interaction_ids)
    runner = Listener(ear, environment)
    runner.listen()
